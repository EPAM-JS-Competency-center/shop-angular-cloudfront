{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/cart/cart-routing.module.ts","./src/app/cart/cart-shipping-form/cart-shipping-form.component.ts","./src/app/cart/cart-shipping-form/cart-shipping-form.component.html","./src/app/cart/cart.component.ts","./src/app/cart/cart.component.html","./src/app/cart/cart.module.ts","./src/app/cart/cart.service.ts","./src/app/cart/checkout.service.ts","./src/app/cart/order-summary/order-summary.component.ts","./src/app/cart/order-summary/order-summary.component.html","./src/app/cart/product-item-checkout/product-item-checkout.component.ts","./src/app/cart/product-item-checkout/product-item-checkout.component.html","./src/app/core/api.service.ts","./src/app/core/cart-count-controls/cart-count-controls.component.ts","./src/app/core/cart-count-controls/cart-count-controls.component.html","./src/app/core/cart-count-controls/cart-count-controls.module.ts","./src/app/core/header/header.component.ts","./src/app/core/header/header.component.html","./src/app/core/injection-tokens/config.token.ts","./src/app/core/interceptors/error-print.interceptor.ts","./src/app/core/notification.service.ts","./src/app/products/product-item/product-item.component.ts","./src/app/products/product-item/product-item.component.html","./src/app/products/products.component.html","./src/app/products/products.component.ts","./src/app/products/products.module.ts","./src/app/products/products.service.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ProductsComponent } from './products/products.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductsComponent,\n  },\n  {\n    path: 'cart',\n    loadChildren: () => import('./cart/cart.module').then((m) => m.CartModule),\n  },\n  {\n    path: 'admin',\n    loadChildren: () =>\n      import('./admin/admin.module').then((m) => m.AdminModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AppComponent {}\n","<app-header></app-header>\n\n<div class=\"container py-3 py-md-5\">\n  <router-outlet></router-outlet>\n</div>\n","import { NgModule, Provider } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HeaderComponent } from './core/header/header.component';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { ProductsModule } from './products/products.module';\nimport { HTTP_INTERCEPTORS, HttpClientModule } from '@angular/common/http';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { CartModule } from './cart/cart.module';\nimport { CONFIG_TOKEN } from './core/injection-tokens/config.token';\nimport { environment } from '../environments/environment';\nimport { ErrorPrintInterceptor } from './core/interceptors/error-print.interceptor';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\n\nconst interceptors: Provider[] = [\n  {\n    provide: HTTP_INTERCEPTORS,\n    useClass: ErrorPrintInterceptor,\n    multi: true,\n  },\n];\n\n@NgModule({\n  declarations: [AppComponent, HeaderComponent],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    MatToolbarModule,\n    MatButtonModule,\n    MatIconModule,\n    MatMenuModule,\n    MatTooltipModule,\n    ProductsModule,\n    CartModule,\n    HttpClientModule,\n    MatBadgeModule,\n    MatSnackBarModule,\n  ],\n  providers: [\n    interceptors,\n    {\n      provide: CONFIG_TOKEN,\n      useValue: environment,\n    },\n  ],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { RouterModule, Routes } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CartComponent } from './cart.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CartComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CartRoutingModule {}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { UntypedFormGroup } from '@angular/forms';\n\n@Component({\n  selector: 'app-cart-shipping-form',\n  templateUrl: './cart-shipping-form.component.html',\n  styleUrls: ['./cart-shipping-form.component.scss'],\n})\nexport class CartShippingFormComponent {\n  @Input() shippingInfo!: UntypedFormGroup;\n\n  @Output() nextStep = new EventEmitter<void>();\n}\n","<form (ngSubmit)=\"nextStep.emit()\" [formGroup]=\"shippingInfo\">\n  <div class=\"row\">\n    <div class=\"col col-md-6\">\n      <mat-form-field class=\"w-100\">\n        <input\n          formControlName=\"firstName\"\n          name=\"firstName\"\n          placeholder=\"First name\"\n          type=\"text\"\n          matInput\n          required\n        />\n\n        <mat-error *ngIf=\"shippingInfo.getError('required', 'firstName')\">\n          First name is required!\n        </mat-error>\n      </mat-form-field>\n    </div>\n    <div class=\"col col-md-6\">\n      <mat-form-field class=\"w-100\">\n        <input\n          formControlName=\"lastName\"\n          name=\"lastName\"\n          placeholder=\"Last name\"\n          type=\"text\"\n          matInput\n          required\n        />\n\n        <mat-error *ngIf=\"shippingInfo.getError('required', 'lastName')\">\n          Last name is required!\n        </mat-error>\n      </mat-form-field>\n    </div>\n    <div class=\"col-12\">\n      <mat-form-field class=\"w-100\">\n        <input\n          formControlName=\"address\"\n          name=\"address\"\n          placeholder=\"Shipping address\"\n          type=\"text\"\n          matInput\n          required\n        />\n\n        <mat-error *ngIf=\"shippingInfo.getError('required', 'address')\">\n          Shipping address is required!\n        </mat-error>\n      </mat-form-field>\n    </div>\n    <div class=\"col-12\">\n      <mat-form-field class=\"w-100\">\n        <input\n          formControlName=\"comment\"\n          name=\"comment\"\n          placeholder=\"Comment\"\n          type=\"text\"\n          matInput\n        />\n      </mat-form-field>\n    </div>\n  </div>\n\n  <!-- Submit button to allow form submit by Enter -->\n  <button class=\"d-none\"></button>\n</form>\n","import { Component, OnInit } from '@angular/core';\nimport { UntypedFormBuilder, UntypedFormGroup, Validators } from '@angular/forms';\nimport { STEPPER_GLOBAL_OPTIONS } from '@angular/cdk/stepper';\nimport { CheckoutService } from './checkout.service';\nimport { ProductCheckout } from '../products/product.interface';\nimport { Observable } from 'rxjs';\nimport { CartService } from './cart.service';\nimport { map, shareReplay } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.scss'],\n  providers: [\n    {\n      provide: STEPPER_GLOBAL_OPTIONS,\n      useValue: { displayDefaultIndicatorType: false },\n    },\n  ],\n})\nexport class CartComponent implements OnInit {\n  products$!: Observable<ProductCheckout[]>;\n  totalPrice$!: Observable<number>;\n  totalInCart$!: Observable<number>;\n  cartEmpty$!: Observable<boolean>;\n\n  shippingInfo!: UntypedFormGroup;\n\n  constructor(\n    private readonly fb: UntypedFormBuilder,\n    private readonly checkoutService: CheckoutService,\n    private readonly cartService: CartService\n  ) {}\n\n  get fullName(): string {\n    const { firstName, lastName } = this.shippingInfo.value;\n    return `${firstName} ${lastName}`;\n  }\n\n  get address(): string {\n    return this.shippingInfo.value.address;\n  }\n\n  get comment(): string {\n    return this.shippingInfo.value.comment;\n  }\n\n  ngOnInit(): void {\n    this.shippingInfo = this.fb.group({\n      lastName: ['', Validators.required],\n      firstName: ['', Validators.required],\n      address: ['', Validators.required],\n      comment: '',\n    });\n\n    this.products$ = this.checkoutService.getProductsForCheckout().pipe(\n      shareReplay({\n        refCount: true,\n        bufferSize: 1,\n      })\n    );\n\n    this.totalPrice$ = this.products$.pipe(\n      map((products) => {\n        const total = products.reduce((acc, val) => acc + val.totalPrice, 0);\n        return +total.toFixed(2);\n      }),\n      shareReplay({\n        refCount: true,\n        bufferSize: 1,\n      })\n    );\n\n    this.totalInCart$ = this.cartService.totalInCart$;\n    this.cartEmpty$ = this.totalInCart$.pipe(map((count) => count > 0));\n  }\n\n  add(id: string): void {\n    this.cartService.addItem(id);\n  }\n\n  remove(id: string): void {\n    this.cartService.removeItem(id);\n  }\n}\n","<div\n  *ngIf=\"{\n    products: products$ | async,\n    totalPrice: totalPrice$ | async,\n    cartEmpty: cartEmpty$ | async\n  } as state\"\n  class=\"row\"\n>\n  <div class=\"col mx-auto\">\n    <mat-card>\n      <h1 class=\"text-center pt-4\" mat-card-title>Checkout</h1>\n\n      <mat-card-content>\n        <mat-vertical-stepper #stepper [linear]=\"true\">\n          <!-- Review your cart STEP -->\n          <mat-step label=\"Review your cart\" [completed]=\"state.cartEmpty\">\n            <ng-container *ngIf=\"state.cartEmpty; else emptyCartTemplate\">\n              <app-order-summary\n                *ngIf=\"state.products; else loaderTemplate\"\n                (add)=\"add($event)\"\n                (remove)=\"remove($event)\"\n                [products]=\"state.products\"\n                [totalPrice]=\"state.totalPrice!\"\n                [showControls]=\"true\"\n              ></app-order-summary>\n\n              <ng-template #loaderTemplate>\n                <div class=\"py-5\">\n                  <mat-spinner [diameter]=\"40\" class=\"mx-auto\"></mat-spinner>\n                </div>\n              </ng-template>\n\n              <div class=\"text-right\">\n                <button\n                  color=\"primary\"\n                  class=\"text-uppercase\"\n                  mat-flat-button\n                  matStepperNext\n                >\n                  next\n                </button>\n              </div>\n            </ng-container>\n          </mat-step>\n\n          <!-- Shipping address STEP -->\n          <mat-step label=\"Shipping address\" [stepControl]=\"shippingInfo\">\n            <h2>Shipping address</h2>\n\n            <app-cart-shipping-form\n              (nextStep)=\"stepper.next()\"\n              [shippingInfo]=\"shippingInfo\"\n            ></app-cart-shipping-form>\n\n            <div class=\"text-right\">\n              <button class=\"text-uppercase\" mat-button matStepperPrevious>\n                back\n              </button>\n              <button\n                color=\"primary\"\n                class=\"text-uppercase\"\n                mat-flat-button\n                matStepperNext\n              >\n                next\n              </button>\n            </div>\n          </mat-step>\n\n          <!-- Review your order STEP -->\n          <mat-step label=\"Review your order\">\n            <app-order-summary\n              *ngIf=\"state.products\"\n              [products]=\"state.products\"\n              [totalPrice]=\"state.totalPrice!\"\n              [showControls]=\"false\"\n            ></app-order-summary>\n\n            <div class=\"row\">\n              <div class=\"col col-md-6\">\n                <h2>Shipping</h2>\n                <p>{{ fullName }}</p>\n                <p>{{ address }}</p>\n              </div>\n              <div class=\"col col-md-6\">\n                <h2>Comment</h2>\n                <p>{{ comment }}</p>\n              </div>\n            </div>\n\n            <div class=\"text-right\">\n              <button class=\"text-uppercase\" mat-button matStepperPrevious>\n                back\n              </button>\n              <button color=\"primary\" class=\"text-uppercase\" mat-flat-button>\n                place order\n              </button>\n            </div>\n          </mat-step>\n        </mat-vertical-stepper>\n      </mat-card-content>\n    </mat-card>\n  </div>\n</div>\n\n<ng-template #emptyCartTemplate>\n  <div class=\"lead\">\n    The cart is empty. Didn't you like anything in our shop?\n  </div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CartComponent } from './cart.component';\nimport { CartRoutingModule } from './cart-routing.module';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { MatButtonModule } from '@angular/material/button';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { ProductItemCheckoutComponent } from './product-item-checkout/product-item-checkout.component';\nimport { CartCountControlsModule } from '../core/cart-count-controls/cart-count-controls.module';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { CartShippingFormComponent } from './cart-shipping-form/cart-shipping-form.component';\nimport { OrderSummaryComponent } from './order-summary/order-summary.component';\n\n@NgModule({\n  declarations: [\n    CartComponent,\n    ProductItemCheckoutComponent,\n    CartShippingFormComponent,\n    OrderSummaryComponent,\n  ],\n  imports: [\n    CommonModule,\n    CartRoutingModule,\n    MatCardModule,\n    MatStepperModule,\n    MatButtonModule,\n    ReactiveFormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    CartCountControlsModule,\n    MatProgressSpinnerModule,\n  ],\n  exports: [CartComponent],\n})\nexport class CartModule {}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CartService {\n  /** Key - item id, value - ordered amount */\n  #cartSource = new BehaviorSubject<Record<string, number>>({});\n\n  // eslint-disable-next-line @typescript-eslint/member-ordering\n  cart$ = this.#cartSource.asObservable();\n\n  // eslint-disable-next-line @typescript-eslint/member-ordering\n  totalInCart$: Observable<number> = this.cart$.pipe(\n    map((cart) => {\n      const values = Object.values(cart);\n\n      if (!values.length) {\n        return 0;\n      }\n\n      return values.reduce((acc, val) => acc + val, 0);\n    }),\n    shareReplay({\n      refCount: true,\n      bufferSize: 1,\n    })\n  );\n\n  constructor() {}\n\n  addItem(id: string): void {\n    this.updateCount(id, 1);\n  }\n\n  removeItem(id: string): void {\n    this.updateCount(id, -1);\n  }\n\n  empty(): void {\n    this.#cartSource.next({});\n  }\n\n  private updateCount(id: string, type: 1 | -1): void {\n    const val = this.#cartSource.getValue();\n    const newVal = {\n      ...val,\n    };\n\n    if (!(id in newVal)) {\n      newVal[id] = 0;\n    }\n\n    if (type === 1) {\n      newVal[id] = ++newVal[id];\n      this.#cartSource.next(newVal);\n      return;\n    }\n\n    if (newVal[id] === 0) {\n      console.warn('No match. Skipping...');\n      return;\n    }\n\n    newVal[id]--;\n\n    if (!newVal[id]) {\n      delete newVal[id];\n    }\n\n    this.#cartSource.next(newVal);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CartService } from './cart.service';\nimport { ProductsService } from '../products/products.service';\nimport { Observable } from 'rxjs';\nimport { ProductCheckout } from '../products/product.interface';\nimport { map, switchMap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CheckoutService {\n  constructor(\n    private readonly cartService: CartService,\n    private readonly productsService: ProductsService\n  ) {}\n\n  getProductsForCheckout(): Observable<ProductCheckout[]> {\n    return this.cartService.cart$.pipe(\n      switchMap((cart) =>\n        this.productsService.getProductsForCheckout(Object.keys(cart)).pipe(\n          map((products) =>\n            products.map((product) => ({\n              ...product,\n              orderedCount: cart[product.id],\n              totalPrice: +(cart[product.id] * product.price).toFixed(2),\n            }))\n          )\n        )\n      )\n    );\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { ProductCheckout } from '../../products/product.interface';\n\n@Component({\n  selector: 'app-order-summary',\n  templateUrl: './order-summary.component.html',\n  styleUrls: ['./order-summary.component.scss'],\n})\nexport class OrderSummaryComponent {\n  @Input() products!: ProductCheckout[];\n  @Input() showControls!: boolean;\n  @Input() totalPrice!: number;\n\n  /** Add productId */\n  @Output() add = new EventEmitter<string>();\n  /** Remove productId */\n  @Output() remove = new EventEmitter<string>();\n}\n","<h2>Order summary</h2>\n\n<ng-container>\n  <app-product-item-checkout\n    *ngFor=\"let product of products\"\n    (add)=\"add.emit(product.id)\"\n    (remove)=\"remove.emit(product.id)\"\n    [product]=\"product\"\n    [hideControls]=\"!showControls\"\n  ></app-product-item-checkout>\n</ng-container>\n\n<div class=\"row\">\n  <h3 class=\"col flex-grow-1\">Shipping</h3>\n  <span class=\"col flex-grow-0\">Free</span>\n</div>\n\n<div class=\"row\">\n  <h3 class=\"col flex-grow-1\">Total</h3>\n  <b class=\"col flex-grow-0\" style=\"font-size: 18px\">{{\n    totalPrice | currency\n  }}</b>\n</div>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { ProductCheckout } from '../../products/product.interface';\n\n@Component({\n  selector: 'app-product-item-checkout',\n  templateUrl: './product-item-checkout.component.html',\n  styleUrls: ['./product-item-checkout.component.scss'],\n})\nexport class ProductItemCheckoutComponent {\n  @Input() product!: ProductCheckout;\n  @Input() hideControls = false;\n\n  @Output() add = new EventEmitter<void>();\n  @Output() remove = new EventEmitter<void>();\n}\n","<mat-card class=\"mb-3\">\n  <div class=\"row align-items-center\">\n    <div\n      *ngIf=\"!hideControls\"\n      class=\"col-12 col-md-3 order-3 order-md-0 text-center\"\n    >\n      <app-cart-count-controls\n        (decrement)=\"remove.emit()\"\n        (increment)=\"add.emit()\"\n        [productName]=\"product.title\"\n        [count]=\"product.orderedCount\"\n        [available]=\"product.count\"\n      ></app-cart-count-controls>\n    </div>\n    <div\n      [class.col-md-6]=\"!hideControls\"\n      [class.col-md-9]=\"hideControls\"\n      class=\"col-12 col-md-6\"\n    >\n      <h3 class=\"font-weight-bold mb-1\">{{ product.title }}</h3>\n      <p class=\"text-muted\">{{ product.description }}</p>\n    </div>\n    <div class=\"col-12 col-md-3\">\n      {{ product.price | currency }} x {{ product.orderedCount }} =\n      {{ product.totalPrice | currency }}\n    </div>\n  </div>\n</mat-card>\n","import { Injectable, Injector } from '@angular/core';\nimport { ApiEndpoint, Config } from '../../environments/config.interface';\nimport { CONFIG_TOKEN } from './injection-tokens/config.token';\nimport { Location } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\n\n/** Base class for services working with APIs */\n@Injectable()\nexport abstract class ApiService {\n  protected readonly config: Config;\n  protected readonly http: HttpClient;\n\n  protected constructor(protected readonly injector: Injector) {\n    this.config = injector.get(CONFIG_TOKEN);\n    this.http = injector.get(HttpClient);\n  }\n\n  endpointEnabled(api: ApiEndpoint): boolean {\n    return this.config.apiEndpointsEnabled[api];\n  }\n\n  /** Combines API endpoint and path into a single URL */\n  protected getUrl(api: ApiEndpoint, path: string): string {\n    return Location.joinWithSlash(this.config.apiEndpoints[api], path);\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  ViewChild,\n} from '@angular/core';\n\n@Component({\n  selector: 'app-cart-count-controls',\n  templateUrl: './cart-count-controls.component.html',\n  styleUrls: ['./cart-count-controls.component.scss'],\n  exportAs: 'countControls',\n})\nexport class CartCountControlsComponent {\n  @Input() count!: number;\n  @Input() available!: number;\n  @Input() productName!: string;\n\n  @Output() increment = new EventEmitter<void>();\n  @Output() decrement = new EventEmitter<void>();\n\n  @ViewChild('addBtn', { read: ElementRef })\n  addBtn!: ElementRef<HTMLButtonElement>;\n\n  focusAddBtn(): void {\n    this.addBtn.nativeElement.focus();\n  }\n}\n","<!-- Remove from cart btn -->\n<button\n  (click)=\"decrement.emit()\"\n  color=\"accent\"\n  matTooltip=\"Remove {{ productName }} from cart\"\n  mat-icon-button\n>\n  <mat-icon>remove</mat-icon>\n</button>\n\n{{ count }}\n<!-- Add to cart btn -->\n<button\n  #addBtn\n  (click)=\"increment.emit()\"\n  [disabled]=\"!!available && count >= available\"\n  color=\"accent\"\n  matTooltip=\"Add {{ productName }} to cart\"\n  mat-icon-button\n>\n  <mat-icon>add</mat-icon>\n</button>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CartCountControlsComponent } from './cart-count-controls.component';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatIconModule } from '@angular/material/icon';\n\n@NgModule({\n  declarations: [CartCountControlsComponent],\n  imports: [CommonModule, MatButtonModule, MatTooltipModule, MatIconModule],\n  exports: [CartCountControlsComponent],\n})\nexport class CartCountControlsModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { CartService } from '../../cart/cart.service';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss'],\n})\nexport class HeaderComponent implements OnInit {\n  totalInCart$!: Observable<number>;\n\n  constructor(private readonly cartService: CartService) {}\n\n  ngOnInit(): void {\n    this.totalInCart$ = this.cartService.totalInCart$;\n  }\n}\n","<mat-toolbar color=\"primary\">\n  <a routerLink=\"/\" matTooltip=\"Open main page\" class=\"home-link\">E-shop</a>\n\n  <div class=\"d-flex flex-fill\"></div>\n\n  <!-- Account btn -->\n  <button\n    [matMenuTriggerFor]=\"menu\"\n    matTooltip=\"Open account menu\"\n    mat-icon-button\n  >\n    <mat-icon>account_circle</mat-icon>\n  </button>\n\n  <!-- Cart btn -->\n  <button routerLink=\"cart\" matTooltip=\"Go to cart\" mat-icon-button>\n    <mat-icon [matBadge]=\"totalInCart$ | async\" matBadgeColor=\"accent\"\n      >shopping_cart</mat-icon\n    >\n  </button>\n</mat-toolbar>\n\n<mat-menu #menu=\"matMenu\">\n  <a routerLink=\"admin/orders\" mat-menu-item>Manage orders</a>\n  <a routerLink=\"admin/products\" mat-menu-item>Manage products</a>\n</mat-menu>\n","import { InjectionToken } from '@angular/core';\nimport { Config } from '../../../environments/config.interface';\n\nexport const CONFIG_TOKEN = new InjectionToken<Config>('CONFIG_TOKEN');\n","import { Injectable } from '@angular/core';\nimport {\n  HttpEvent,\n  HttpHandler,\n  HttpInterceptor,\n  HttpRequest,\n} from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { NotificationService } from '../notification.service';\nimport { tap } from 'rxjs/operators';\n\n@Injectable()\nexport class ErrorPrintInterceptor implements HttpInterceptor {\n  constructor(private readonly notificationService: NotificationService) {}\n\n  intercept(\n    request: HttpRequest<unknown>,\n    next: HttpHandler\n  ): Observable<HttpEvent<unknown>> {\n    return next.handle(request).pipe(\n      tap({\n        error: () => {\n          const url = new URL(request.url);\n\n          this.notificationService.showError(\n            `Request to \"${url.pathname}\" failed. Check the console for the details`,\n            0\n          );\n        },\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class NotificationService {\n  constructor(private readonly snackBar: MatSnackBar) {}\n\n  /**\n   * Show message with an error\n   *\n   * @param text Error text message\n   * @param duration Duration to close after. 0 to close manually only\n   */\n  showError(text: string, duration = 3000) {\n    this.snackBar.open(text, 'Dismiss', {\n      duration,\n      panelClass: 'shop-snackbar-error',\n    });\n  }\n}\n","import { Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\nimport { Product } from '../product.interface';\nimport { CartService } from '../../cart/cart.service';\nimport { Observable } from 'rxjs';\nimport { map, shareReplay, tap } from 'rxjs/operators';\nimport { CartCountControlsComponent } from '../../core/cart-count-controls/cart-count-controls.component';\n\n@Component({\n  selector: 'app-product-item',\n  templateUrl: './product-item.component.html',\n  styleUrls: ['./product-item.component.scss'],\n})\nexport class ProductItemComponent implements OnInit {\n  @Input() product!: Product;\n  @Input() index!: number;\n\n  @ViewChild('cartBtn', { static: false, read: ElementRef }) cartBtn:\n    | ElementRef<HTMLButtonElement>\n    | undefined;\n  @ViewChild('controls', { static: false }) countControls:\n    | CartCountControlsComponent\n    | undefined;\n\n  countInCart$!: Observable<number>;\n\n  constructor(private readonly cartService: CartService) {}\n\n  get id(): string {\n    return this.product.id;\n  }\n\n  ngOnInit(): void {\n    this.countInCart$ = this.cartService.cart$.pipe(\n      map((cart) => {\n        if (!(this.id in cart)) {\n          return 0;\n        }\n\n        return cart[this.id];\n      }),\n      this.updateFocusIfNeeded(),\n      shareReplay({\n        bufferSize: 1,\n        refCount: true,\n      })\n    );\n  }\n\n  add(): void {\n    this.cartService.addItem(this.id);\n  }\n\n  remove(): void {\n    this.cartService.removeItem(this.id);\n  }\n\n  /** Move focus to a corresponding control when controls switch */\n  private updateFocusIfNeeded() {\n    let prev: number;\n\n    return (observable: Observable<number>): Observable<number> =>\n      observable.pipe(\n        tap((curr) => {\n          if (prev === 0 && curr === 1) {\n            setTimeout(() => this.countControls?.focusAddBtn());\n          } else if (prev === 1 && curr === 0) {\n            setTimeout(() => this.cartBtn?.nativeElement.focus());\n          }\n\n          prev = curr;\n        })\n      );\n  }\n}\n","<mat-card>\n  <div mat-card-image class=\"img-container\">\n    <div class=\"img-container__inner\">\n      <img src=\"https://source.unsplash.com/random?sig={{ index }}\" alt=\"\" />\n    </div>\n  </div>\n\n  <mat-card-header>\n    <mat-card-title>\n      {{ product.title }}\n    </mat-card-title>\n  </mat-card-header>\n\n  <mat-card-content>\n    <p>{{ product.price | currency }}</p>\n  </mat-card-content>\n\n  <mat-card-actions>\n    <!-- Add to cart btn -->\n    <button\n      #cartBtn\n      *ngIf=\"(countInCart$ | async) === 0\"\n      (click)=\"add()\"\n      color=\"accent\"\n      matTooltip=\"Add {{ product.title }} to cart\"\n      mat-icon-button\n    >\n      <mat-icon>shopping_cart</mat-icon>\n    </button>\n\n    <app-cart-count-controls\n      #controls=\"countControls\"\n      *ngIf=\"(countInCart$ | async)! > 0\"\n      (increment)=\"add()\"\n      (decrement)=\"remove()\"\n      [productName]=\"product.title\"\n      [count]=\"(countInCart$ | async)!\"\n      [available]=\"product.count\"\n    ></app-cart-count-controls>\n  </mat-card-actions>\n</mat-card>\n","<h1>Serverless Deploy</h1>\n\n<main class=\"container\">\n  <app-product-item\n    *ngFor=\"let product of products$ | async; let i = index\"\n    [product]=\"product\"\n    [index]=\"i\"\n  >\n  </app-product-item>\n</main>\n","import { Component, OnInit } from '@angular/core';\nimport { ProductsService } from './products.service';\nimport { Observable } from 'rxjs';\nimport { Product } from './product.interface';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.scss'],\n})\nexport class ProductsComponent implements OnInit {\n  readonly products$: Observable<\n    Product[]\n  > = this.productsService.getProducts();\n\n  constructor(private readonly productsService: ProductsService) {}\n\n  ngOnInit(): void {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProductsComponent } from './products.component';\nimport { ProductItemComponent } from './product-item/product-item.component';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { CartCountControlsModule } from '../core/cart-count-controls/cart-count-controls.module';\n\n@NgModule({\n  declarations: [ProductsComponent, ProductItemComponent],\n  imports: [\n    CommonModule,\n    MatCardModule,\n    MatIconModule,\n    MatButtonModule,\n    MatTooltipModule,\n    CartCountControlsModule,\n  ],\n  exports: [ProductsComponent],\n})\nexport class ProductsModule {}\n","import { Injectable } from '@angular/core';\n\nimport { EMPTY, Observable, of, throwError } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { Product } from './product.interface';\n\nimport { ApiService } from '../core/api.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProductsService extends ApiService {\n  createNewProduct(product: Product): Observable<Product> {\n    if (!this.endpointEnabled('apiBase')) {\n      console.warn(\n        'Endpoint \"apiBase\" is disabled. To enable change your environment.ts config'\n      );\n      return EMPTY;\n    }\n\n    const url = this.getUrl('apiBase', 'products/create');\n    return this.http.post<Product>(url, product);\n  }\n\n  editProduct(id: string, changedProduct: Product): Observable<Product> {\n    if (!this.endpointEnabled('apiBase')) {\n      console.warn(\n        'Endpoint \"apiBase\" is disabled. To enable change your environment.ts config'\n      );\n      return EMPTY;\n    }\n\n    const url = this.getUrl('apiBase', `products/${id}`);\n    return this.http.put<Product>(url, changedProduct);\n  }\n\n  getProductById(id: string): Observable<Product | null> {\n    if (!this.endpointEnabled('apiBase')) {\n      console.warn(\n        'Endpoint \"apiBase\" is disabled. To enable change your environment.ts config'\n      );\n      return this.http\n        .get<Product[]>('/assets/products.json')\n        .pipe(\n          map(\n            (products) => products.find((product) => product.id === id) || null\n          )\n        );\n    }\n\n    const url = this.getUrl('apiBase', `products/${id}`);\n    return this.http.get<any>(url).pipe(map((resp) => resp.data));\n  }\n\n  getProducts(): Observable<Product[]> {\n    if (!this.endpointEnabled('apiBase')) {\n      console.warn(\n        'Endpoint \"apiBase\" is disabled. To enable change your environment.ts config'\n      );\n      return this.http.get<Product[]>('/assets/products.json');\n    }\n\n    const url = this.getUrl('apiBase', 'products');\n    return this.http.get<{ data: Product[] }>(url).pipe(\n      map((res) =>\n        (res.data || []).map((product) => ({\n          ...product,\n          count: product.stock?.count || 0,\n        }))\n      )\n    );\n  }\n\n  getProductsForCheckout(ids: string[]): Observable<Product[]> {\n    if (!ids.length) {\n      return of([]);\n    }\n\n    return this.getProducts().pipe(\n      map((products) => products.filter((product) => ids.includes(product.id)))\n    );\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nimport { Config } from \"./config.interface\";\n\nexport const environment: Config = {\n  production: false,\n  apiEndpoints: {\n    product:\n      \"https://z2ft6yinia.execute-api.us-east-1.amazonaws.com/dev/products\",\n    order: \"https://.execute-api.eu-west-1.amazonaws.com/dev\",\n    import: \"https://t0lycze5md.execute-api.us-east-1.amazonaws.com/dev\",\n    apiBase: \"https://z2ft6yinia.execute-api.us-east-1.amazonaws.com/dev\",\n    cart: \"https://.execute-api.eu-west-1.amazonaws.com/dev\",\n  },\n  apiEndpointsEnabled: {\n    product: true,\n    order: false,\n    import: true,\n    apiBase: true,\n    cart: false,\n  },\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n"],"names":["RouterModule","ProductsComponent","routes","path","component","loadChildren","then","m","CartModule","AdminModule","AppRoutingModule","forRoot","imports","exports","AppComponent","selectors","decls","vars","consts","template","i0","BrowserModule","BrowserAnimationsModule","HeaderComponent","MatToolbarModule","MatButtonModule","MatIconModule","MatMenuModule","MatTooltipModule","ProductsModule","HTTP_INTERCEPTORS","HttpClientModule","MatBadgeModule","CONFIG_TOKEN","environment","ErrorPrintInterceptor","MatSnackBarModule","interceptors","provide","useClass","multi","AppModule","bootstrap","useValue","declarations","CartComponent","CartRoutingModule","forChild","EventEmitter","CartShippingFormComponent","constructor","inputs","shippingInfo","outputs","nextStep","ctx","Validators","STEPPER_GLOBAL_OPTIONS","map","shareReplay","fb","checkoutService","cartService","fullName","firstName","lastName","value","address","comment","ngOnInit","group","required","products$","getProductsForCheckout","pipe","refCount","bufferSize","totalPrice$","products","total","reduce","acc","val","totalPrice","toFixed","totalInCart$","cartEmpty$","count","add","id","addItem","remove","removeItem","features","displayDefaultIndicatorType","CommonModule","MatCardModule","MatStepperModule","ReactiveFormsModule","MatFormFieldModule","MatInputModule","ProductItemCheckoutComponent","CartCountControlsModule","MatProgressSpinnerModule","OrderSummaryComponent","BehaviorSubject","CartService","asObservable","cart$","cart","values","Object","length","updateCount","empty","next","type","getValue","newVal","console","warn","factory","providedIn","switchMap","CheckoutService","productsService","keys","product","orderedCount","price","showControls","hideControls","Location","HttpClient","ApiService","injector","config","get","http","endpointEnabled","api","apiEndpointsEnabled","getUrl","joinWithSlash","apiEndpoints","ElementRef","CartCountControlsComponent","focusAddBtn","addBtn","nativeElement","focus","viewQuery","InjectionToken","tap","notificationService","intercept","request","handle","error","url","URL","showError","pathname","NotificationService","snackBar","text","duration","open","panelClass","ProductItemComponent","countInCart$","updateFocusIfNeeded","prev","observable","curr","setTimeout","countControls","cartBtn","getProducts","EMPTY","of","ProductsService","createNewProduct","post","editProduct","changedProduct","put","getProductById","find","resp","data","res","stock","ids","filter","includes","production","order","import","apiBase","enableProdMode","__NgCli_bootstrap_1","bootstrapModule","catch","err"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}